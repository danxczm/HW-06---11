var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var r=o("iQIUW");o("iQIUW");const i={inputEl:document.querySelector("input"),formEl:document.querySelector(".search-form"),containerEl:document.querySelector(".gallery"),loadMoreButton:document.querySelector(".load-more")},a=new class{async fetchPictures(){const e=`https://pixabay.com/api/?key=17779447-e69189bbb9578e7ff1877c42f&per_page=40&image_type=photo&lang=en,ru&orientation=horizontal&safesearch=true&page=${this.page}&q=${this.searchQuery}`;return await fetch(e).then((e=>e.json())).then((e=>(this.incrementPage(),e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}};function s(e){const t=e.hits.map((({user:e,webformatURL:t,largeImageURL:n,tags:o,likes:r,downloads:i})=>`<div class="photo-card">\n      <div class="info">\n\t\t\t<p class="info-item">\n          <b>${e}</b>\n        </p>\n        <p class="info-item">\n          ❤${r}</p>\n        </p>\n        <p class="info-item">\n          ⬇${i}\n        </p>\n\t\t\t\t<a href="${n}" target="_blank">Download</a>\n      </div>\n      <img src="${t}" alt="${o}" loading="lazy"/>\n\n    </div>\n    `)).join("");i.containerEl.insertAdjacentHTML("beforeend",t)}function l(){i.containerEl.innerHTML="",i.inputEl.value=""}a.fetchPictures().then((e=>{s(e)})),i.formEl.addEventListener("submit",(function(e){e.preventDefault(),a.query=e.currentTarget.elements.searchQuery.value,a.resetPage(),a.fetchPictures().then((e=>{if(0===e.total)return r.Notify.failure("Sorry, there are no images matching your search query. Please try again."),i.loadMoreButton.classList.add("is-hidden"),void l();i.loadMoreButton.classList.remove("is-hidden"),l(),s(e),e.total<40&&i.loadMoreButton.classList.add("is-hidden"),r.Notify.info(`Hooray! We found ${e.totalHits} images.`)}))})),i.loadMoreButton.addEventListener("click",(function(){a.fetchPictures().then((e=>(e.hits.length<40&&(r.Notify.info("We're sorry, but you've reached the end of search results."),i.loadMoreButton.classList.add("is-hidden")),e))).then(s)}));let c=document.getElementById("myBtn");window.onscroll=function(){document.body.scrollTop>1e3||document.documentElement.scrollTop>1e3?c.style.display="block":c.style.display="none"},c.addEventListener("click",(function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}));
//# sourceMappingURL=01-search-form.4fd27663.js.map
